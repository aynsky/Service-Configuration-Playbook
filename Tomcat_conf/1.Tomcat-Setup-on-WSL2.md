# Tomcat Setup on WSL2 (RHEL 9) â€“ Quick Start Guide ğŸš€

This guide shows how to **install and run Tomcat 10 on WSL2** with RHEL 9, including common issues and how to solve them.

---

## ğŸ“‹ Table of Contents
- [Download Tomcat](#1ï¸âƒ£-download-tomcat)
- [Environment Variables](#2ï¸âƒ£-environment-variables)
- [Start and Stop Tomcat](#3ï¸âƒ£-start-and-stop-tomcat)
- [Common Challenges](#4ï¸âƒ£-common-challenges)
- [Folder Structure Overview](#5ï¸âƒ£-folder-structure-overview)

---

## 1ï¸âƒ£ Download Tomcat

```bash
cd /opt
sudo wget https://downloads.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.zip
sudo unzip apache-tomcat-10.1.46.zip
sudo mv apache-tomcat-10.1.46 tomcat10
sudo chmod +x tomcat10/bin/*.sh
```

> âœ… **Note:** verified the URL from the official Apache mirror if not works.
> 
> ğŸ’¡ **Tip:** WSL2 doesn't have systemd, so we **cannot use** `systemctl start tomcat`.

---

## 2ï¸âƒ£ Environment Variables

```bash
export CATALINA_HOME=/opt/tomcat10
export PATH=$PATH:$CATALINA_HOME/bin
source ~/.bashrc
```

**What these do:**
- `$CATALINA_HOME` â†’ tells Tomcat scripts where the installation is
- Adding `$CATALINA_HOME/bin` to `PATH` allows running scripts from anywhere
- On real servers, this is usually handled in a service unit or environment file

---

## 3ï¸âƒ£ Start and Stop Tomcat

```bash
# Start Tomcat
$CATALINA_HOME/bin/startup.sh

# Stop Tomcat
$CATALINA_HOME/bin/shutdown.sh
```

- ğŸŒ Tomcat starts and listens on **http://localhost:8080/**
- ğŸ“‹ Logs are in `$CATALINA_HOME/logs/catalina.out`

---

## 4ï¸âƒ£ Common Challenges

### 1. `systemctl` doesn't work in WSL2
**Problem:** Standard systemd commands fail  
**Solution:** Use `startup.sh` and `shutdown.sh` instead

### 2. History expansion with `!` in Bash
**Problem:** When using `echo "<h1>Hello!</h1>"`, Bash throws `event not found`  
**Solution:** Use single quotes: `echo '<h1>Hello!</h1>' > index.html`

### 3. DNF install gives older Tomcat
**Problem:** Package managers often have outdated versions (Tomcat 9 vs Tomcat 10)  
**Solution:** For latest features, manual download is better

---

## 5ï¸âƒ£ Folder Structure Overview

```
$CATALINA_HOME/
â”œâ”€â”€ bin/      # Scripts to start/stop
â”œâ”€â”€ conf/     # server.xml, web.xml, users, configs
â”œâ”€â”€ lib/      # Shared libraries (servlet-api.jar)
â”œâ”€â”€ logs/     # Tomcat logs
â”œâ”€â”€ webapps/  # Your deployed apps
â”œâ”€â”€ temp/     # Temp files
â””â”€â”€ work/     # Compiled JSPs
```

**Key directories:**
- `webapps/` â†’ where we deploy HTML or servlet apps
- `conf/tomcat-users.xml` â†’ define admin/manager users

---

## ğŸ”— Additional Resources

- [Official Tomcat Documentation](https://tomcat.apache.org/tomcat-10.1-doc/)
- [Apache Tomcat Downloads](https://tomcat.apache.org/download-10.cgi)

---

## ğŸ“ Notes

This guide is specifically tailored for WSL2 environments where traditional Linux service management isn't available. For production deployments, consider using proper systemd service files or containerization.